---
// Main layout component
import '../styles/global.css';

interface Props {
  title?: string;
  description?: string;
}

const { 
  title = 'Christophe Trefois | Head of Technology, LNDS Luxembourg',
  description = 'Christophe Trefois - Head of Technology at Luxembourg National Data Service (LNDS). Expert in bioinformatics, systems biology, and data infrastructure.'
} = Astro.props;

const buildDate = new Date().toLocaleDateString('en-US', { 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric' 
});
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>
  <meta name="author" content="Christophe Trefois">
  
  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <a href="/" class="logo">Christophe Trefois</a>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/publications">Publications</a>
        <a href="/projects">Projects</a>
        <a href="/contact">Contact</a>
      </div>
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <span class="sun">‚òÄÔ∏è</span>
        <span class="moon">üåô</span>
      </button>
    </div>
  </nav>

  <main>
    <slot />
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-info">
          <h3>Christophe Trefois</h3>
          <p>Head of Technology, LNDS Luxembourg</p>
        </div>
        <div class="social-links">
          <a href="https://github.com/Trefex" target="_blank" rel="noopener noreferrer" title="GitHub" aria-label="GitHub">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          <a href="https://www.linkedin.com/in/trefoischristophe" target="_blank" rel="noopener noreferrer" title="LinkedIn" aria-label="LinkedIn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
            </svg>
          </a>
          <a href="https://twitter.com/Trefex" target="_blank" rel="noopener noreferrer" title="Twitter/X" aria-label="Twitter">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </a>
          <a href="https://orcid.org/0000-0002-8991-6810" target="_blank" rel="noopener noreferrer" title="ORCID" aria-label="ORCID">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zM7.369 8.378c.525 0 .947.431.947.947s-.422.947-.947.947a.95.95 0 0 1-.947-.947c0-.525.422-.947.947-.947zm-.722 3.038h1.444v6.897H6.647v-6.897zm3.562 0h3.9c1.828 0 2.978 1.012 2.978 2.622 0 1.647-1.169 2.719-2.997 2.719h-1.219v1.556h-1.444v-6.897h-.219zm1.444 1.303v2.719h1.219c.928 0 1.528-.544 1.528-1.366 0-.803-.6-1.353-1.528-1.353h-1.219z"/>
            </svg>
          </a>
          <a href="https://scholar.google.com/citations?user=EBCy7v0AAAAJ&hl=en" target="_blank" rel="noopener noreferrer" title="Google Scholar" aria-label="Google Scholar">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 24a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-24L0 9.5l4.838 3.94A8 8 0 0 1 12 9a8 8 0 0 1 7.162 4.44L24 9.5z"/>
            </svg>
          </a>
          <a href="https://www.researchgate.net/profile/Christophe_Trefois/" target="_blank" rel="noopener noreferrer" title="ResearchGate" aria-label="ResearchGate">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19.586 0c-.818 0-1.508.19-2.073.565-.563.377-.97.936-1.213 1.68a3.193 3.193 0 0 0-.112.437 8.365 8.365 0 0 0-.078.53 9 9 0 0 0-.05.727c-.01.282-.013.621-.013 1.016a31.121 31.121 0 0 0 .014 1.017 9 9 0 0 0 .05.727 7.946 7.946 0 0 0 .077.53h-.005a3.334 3.334 0 0 0 .113.438c.245.743.65 1.303 1.214 1.68.564.376 1.254.564 2.072.564.8 0 1.536-.213 2.105-.603.57-.39.94-.916 1.175-1.65.076-.235.135-.558.177-.93a10.9 10.9 0 0 0 .043-1.207v-.82c0-.095-.047-.142-.14-.142h-3.064c-.094 0-.14.047-.14.141v.956c0 .094.046.14.14.14h1.666c.056 0 .084.028.084.085 0 .196-.015.436-.051.719a1.824 1.824 0 0 1-.31.719c-.139.21-.313.367-.524.473-.21.105-.474.158-.789.158-.648 0-1.076-.206-1.284-.618-.208-.412-.312-1.025-.312-1.838 0-.813.104-1.426.312-1.838.208-.412.636-.618 1.284-.618.33 0 .607.062.833.184.226.123.398.296.517.52a.67.67 0 0 0 .14.197c.028.028.065.042.112.042h1.176c.094 0 .14-.047.14-.14 0-.084-.028-.15-.084-.198-.226-.338-.503-.618-.833-.842a3.96 3.96 0 0 0-2.001-.479zM0 2.004v19.992h24V2.004H0z"/>
            </svg>
          </a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; {new Date().getFullYear()} Christophe Trefois. All rights reserved.</p>
        <p class="footer-meta">
          Website generated with <a href="https://github.com/Copilot" target="_blank" rel="noopener noreferrer">GitHub Copilot</a> ‚Ä¢ 
          Last built: {buildDate}
        </p>
      </div>
    </div>
  </footer>

  <script is:inline>
    // Theme toggle functionality
    const theme = (() => {
      if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
        return localStorage.getItem('theme');
      }
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        return 'dark';
      }
      return 'light';
    })();

    if (theme === 'light') {
      document.documentElement.classList.remove('dark');
    } else {
      document.documentElement.classList.add('dark');
    }

    window.localStorage.setItem('theme', theme);

    const handleToggleClick = () => {
      const element = document.documentElement;
      element.classList.toggle('dark');

      const isDark = element.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    };

    document.getElementById('theme-toggle')?.addEventListener('click', handleToggleClick);
  </script>
</body>
</html>
